# === MAXIMUM BLUETOOTH PERFORMANCE SETTINGS ===
# Ultra-fast connection intervals (3.75ms - near BLE minimum)
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=3
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=3
CONFIG_BT_PERIPHERAL_PREF_LATENCY=0
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400

# Maximum buffer counts for high throughput
CONFIG_BT_BUF_ACL_TX_COUNT=128
CONFIG_BT_BUF_ACL_RX_COUNT=128
CONFIG_BT_L2CAP_TX_BUF_COUNT=128
CONFIG_BT_BUF_CMD_TX_COUNT=16

# Maximum buffer sizes for large packets
CONFIG_BT_BUF_ACL_TX_SIZE=251
CONFIG_BT_BUF_ACL_RX_SIZE=251

# enable auto-sleeping after being idle for 15 mins (unit: ms)
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000

# set transmission power to max
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# High-performance connection management
CONFIG_BT_CONN_TX_MAX=16
CONFIG_BT_MAX_CONN=5
CONFIG_BT_MAX_PAIRED=5

# Performance optimizations
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y
CONFIG_BT_CTLR_LOW_LAT=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y

# Maximum thread stack sizes and priorities for BLE performance
CONFIG_ZMK_BLE_THREAD_STACK_SIZE=2048
CONFIG_ZMK_BLE_THREAD_PRIORITY=1

# Additional performance optimizations
CONFIG_ZMK_BEHAVIORS_QUEUE_SIZE=1024
CONFIG_HEAP_MEM_POOL_SIZE=16384

CONFIG_ZMK_DISPLAY=y
CONFIG_ZMK_EXT_POWER=y
# adding in for F13 support but it breaks android.
CONFIG_ZMK_HID_KEYBOARD_NKRO_EXTENDED_REPORT=n

CONFIG_ZMK_HID_CONSUMER_REPORT_USAGES_BASIC=n

# Pointing device configuration
CONFIG_ZMK_POINTING=y
CONFIG_ZMK_POINTING_SMOOTH_SCROLLING=n

# Maximum HID report queues for smooth input
CONFIG_ZMK_BLE_KEYBOARD_REPORT_QUEUE_SIZE=100
CONFIG_ZMK_BLE_CONSUMER_REPORT_QUEUE_SIZE=50

# Optimize for split keyboard performance
CONFIG_ZMK_SPLIT_BLE_CENTRAL_POSITION_QUEUE_SIZE=50
CONFIG_ZMK_SPLIT_BLE_CENTRAL_SPLIT_RUN_QUEUE_SIZE=50
CONFIG_ZMK_SPLIT_BLE_PERIPHERAL_POSITION_QUEUE_SIZE=50

# Enable all experimental features for performance
CONFIG_ZMK_BLE_EXPERIMENTAL_FEATURES=y

# PMW3610 Sensor Specific Settings for Keyball39
CONFIG_PMW3610_SCROLL_TICK=400